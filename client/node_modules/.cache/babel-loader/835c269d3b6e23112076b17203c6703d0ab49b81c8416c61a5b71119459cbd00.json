{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from\"react-router-dom\";import\"./Login.scss\";import{AuthContext}from\"../../context/authContext\";import{useContext}from\"react\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setErr=_useState4[1];var navigate=useNavigate();var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var _useContext=useContext(AuthContext),login=_useContext.login;var handlelogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return login(inputs);case 4:navigate(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setErr(_context.t0.response.data);case 10:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));return function handlelogin(_x){return _ref.apply(this,arguments);};}();//Code that handles the login functionality\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Social Sphere!\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:handleChange}),err&&err,/*#__PURE__*/_jsx(\"button\",{onClick:handlelogin,children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"New to Social Sphere? \"}),/*#__PURE__*/_jsx(Link,{to:\"/Register\",children:\"Register\"})]})]})]})});};export default Login;","map":{"version":3,"names":["Link","useNavigate","AuthContext","useContext","useState","jsx","_jsx","jsxs","_jsxs","Login","_useState","username","password","_useState2","_slicedToArray","inputs","setInputs","_useState3","_useState4","err","setErr","navigate","handleChange","e","prev","_objectSpread","_defineProperty","target","name","value","_useContext","login","handlelogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","next","preventDefault","t0","response","data","stop","_x","apply","arguments","className","children","type","placeholder","onChange","onClick","to"],"sources":["C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/src/pages/Login/Login.jsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\"\r\nimport \"./Login.scss\"\r\nimport { AuthContext } from \"../../context/authContext\";\r\nimport { useContext } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const [inputs, setInputs] = useState({\r\n        username:\"\",\r\n        password:\"\",\r\n    })\r\n\r\n    const [err, setErr] = useState(null);\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const handleChange = (e) =>{\r\n        setInputs((prev)=>({...prev, [e.target.name]: e.target.value}))\r\n    }\r\n\r\n    const {login} = useContext(AuthContext);\r\n\r\n    const handlelogin = async(e) => {\r\n        e.preventDefault()\r\n        try{\r\n            await login(inputs);\r\n            navigate(\"/\")\r\n        } catch(err){\r\n            setErr(err.response.data)\r\n        }\r\n    };\r\n    //Code that handles the login functionality\r\n\r\n    return (\r\n\r\n        <div className=\"login\">\r\n          <div className=\"card\">\r\n        <div className=\"left\">\r\n            \r\n            </div>\r\n        <div className=\"right\">\r\n        <h1>Welcome to Social Sphere!</h1>\r\n            <h2>Login</h2>\r\n            <form>\r\n                <input type=\"text\" placeholder=\"Username\" name=\"username\" onChange={handleChange}/>\r\n                <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={handleChange}/>\r\n                {err && err}\r\n                <button onClick={handlelogin}>Login</button>\r\n                {/* This makes the button work with the login function */}\r\n            </form>\r\n\r\n        <div className=\"bottom\">\r\n            <span>New to Social Sphere? </span>\r\n        <Link to=\"/Register\">\r\n            Register\r\n            </Link>\r\n        </div>\r\n            \r\n        </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}