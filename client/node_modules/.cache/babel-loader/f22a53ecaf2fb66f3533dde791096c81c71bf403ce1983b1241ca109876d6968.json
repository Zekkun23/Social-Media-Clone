{"ast":null,"code":"import Post from\"../Post/Post\";import\"./Posts.scss\";import{useQuery}from'@tanstack/react-query';import{makeRequest}from\"../../axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var Posts=function Posts(_ref){var userId=_ref.userId;var _useQuery=useQuery([\"posts\"],function(){return makeRequest.get(\"/posts?userId=\"+userId).then(function(res){return res.data;});}),isLoading=_useQuery.isLoading,error=_useQuery.error,data=_useQuery.data;var uniquePosts=data?Array.from(new Set(data.map(function(post){return post.id;}))).map(function(id){return data.find(function(post){return post.id===id;});}):[];return/*#__PURE__*/_jsx(\"div\",{className:\"Posts\",children:error?\"Something went wrong\":isLoading?\"loading\":uniquePosts.map(function(post){return/*#__PURE__*/_jsx(Post,{post:post},post.id);})});};export default Posts;","map":{"version":3,"names":["Post","useQuery","makeRequest","jsx","_jsx","Posts","_ref","userId","_useQuery","get","then","res","data","isLoading","error","uniquePosts","Array","from","Set","map","post","id","find","className","children"],"sources":["C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/src/components/Posts/Posts.jsx"],"sourcesContent":["import Post from \"../Post/Post\";\r\nimport \"./Posts.scss\";\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { makeRequest } from \"../../axios\";\r\n\r\nconst Posts = ({ userId }) => {\r\n  const { isLoading, error, data } = useQuery([\"posts\"], () =>\r\n    makeRequest.get(\"/posts?userId=\" + userId).then(res => {\r\n      return res.data;\r\n    })\r\n  );\r\n\r\n  const uniquePosts = data ? Array.from(new Set(data.map(post => post.id))).map(id => {\r\n    return data.find(post => post.id === id);\r\n  }) : [];\r\n\r\n  return (\r\n    <div className=\"Posts\">\r\n      {error ? (\r\n        \"Something went wrong\"\r\n      ) : isLoading ? (\r\n        \"loading\"\r\n      ) : (\r\n        uniquePosts.map(post => <Post post={post} key={post.id} />)\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,cAAc,CAC/B,MAAO,cAAc,CACrB,OAASC,QAAQ,KAAQ,uBAAuB,CAChD,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAAC,IAAA,CAAmB,IAAb,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CACrB,IAAAC,SAAA,CAAmCP,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAE,iBACrD,CAAAC,WAAW,CAACO,GAAG,CAAC,gBAAgB,CAAGF,MAAM,CAAC,CAACG,IAAI,CAAC,SAAAC,GAAG,CAAI,CACrD,MAAO,CAAAA,GAAG,CAACC,IAAI,CACjB,CAAC,CAAC,EACJ,CAAC,CAJOC,SAAS,CAAAL,SAAA,CAATK,SAAS,CAAEC,KAAK,CAAAN,SAAA,CAALM,KAAK,CAAEF,IAAI,CAAAJ,SAAA,CAAJI,IAAI,CAM9B,GAAM,CAAAG,WAAW,CAAGH,IAAI,CAAGI,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACN,IAAI,CAACO,GAAG,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,EAAE,GAAC,CAAC,CAAC,CAACF,GAAG,CAAC,SAAAE,EAAE,CAAI,CAClF,MAAO,CAAAT,IAAI,CAACU,IAAI,CAAC,SAAAF,IAAI,QAAI,CAAAA,IAAI,CAACC,EAAE,GAAKA,EAAE,GAAC,CAC1C,CAAC,CAAC,CAAG,EAAE,CAEP,mBACEjB,IAAA,QAAKmB,SAAS,CAAC,OAAO,CAAAC,QAAA,CACnBV,KAAK,CACJ,sBAAsB,CACpBD,SAAS,CACX,SAAS,CAETE,WAAW,CAACI,GAAG,CAAC,SAAAC,IAAI,qBAAIhB,IAAA,CAACJ,IAAI,EAACoB,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACC,EAAK,CAAC,GAC3D,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}