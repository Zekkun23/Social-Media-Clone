{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useState=useState(JSON.parse(localStorage.getItem(\"user\"))||null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputs){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:3307/api/auth/login\",inputs,{withCredentials:true});case 2:res=_context.sent;setCurrentUser(res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);//Converting userdata into string for storage in local computer.\nreturn/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:currentUser,login:login},children:children});};","map":{"version":3,"names":["createContext","useEffect","useState","axios","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","currentUser","setCurrentUser","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inputs","res","wrap","_callee$","_context","prev","next","post","withCredentials","sent","data","stop","_x","apply","arguments","setItem","stringify","Provider","value"],"sources":["C:/Users/rd96/OneDrive/Desktop/Social Media Clone/client/src/context/authContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\")) || null\r\n  );\r\n\r\n  const login =  async (inputs) => {\r\n    const res = await axios.post(\"http://localhost:3307/api/auth/login\", inputs, {\r\n      withCredentials: true,\r\n    });\r\n\r\n    setCurrentUser(res.data)\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(currentUser));\r\n  }, [currentUser]);\r\n //Converting userdata into string for storage in local computer.\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ currentUser, login }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"],"mappings":"0bAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,MAAO,IAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAE1C,MAAO,IAAM,CAAAO,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC5C,IAAAC,SAAA,CAAsCR,QAAQ,CAC5CS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAC9C,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAFMO,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAIlC,GAAM,CAAAI,KAAK,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAOC,MAAM,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACR,CAAA5B,KAAK,CAAC6B,IAAI,CAAC,sCAAsC,CAAEP,MAAM,CAAE,CAC3EQ,eAAe,CAAE,IACnB,CAAC,CAAC,QAFIP,GAAG,CAAAG,QAAA,CAAAK,IAAA,CAIThB,cAAc,CAACQ,GAAG,CAACS,IAAI,CAAC,yBAAAN,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GACzB,kBANK,CAAAL,KAAKA,CAAAkB,EAAA,SAAAjB,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAMV,CAEDtC,SAAS,CAAC,UAAM,CACdY,YAAY,CAAC2B,OAAO,CAAC,MAAM,CAAE7B,IAAI,CAAC8B,SAAS,CAACxB,WAAW,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAClB;AAEC,mBACEZ,IAAA,CAACC,WAAW,CAACoC,QAAQ,EAACC,KAAK,CAAE,CAAE1B,WAAW,CAAXA,WAAW,CAAEE,KAAK,CAALA,KAAM,CAAE,CAAAV,QAAA,CACjDA,QAAQ,CACW,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}